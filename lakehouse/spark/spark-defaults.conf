# Pre-configured packages - no need for --packages flag
spark.jars.packages org.apache.hadoop:hadoop-aws:3.3.4,com.amazonaws:aws-java-sdk-bundle:1.12.262

# S3 defaults for MinIO
spark.hadoop.fs.s3a.impl org.apache.hadoop.fs.s3a.S3AFileSystem
spark.hadoop.fs.s3a.endpoint http://minio:9000
spark.hadoop.fs.s3a.path.style.access true
spark.hadoop.fs.s3a.aws.credentials.provider org.apache.hadoop.fs.s3a.SimpleAWSCredentialsProvider

# Iceberg catalog configuration
spark.sql.catalog.iceberg org.apache.iceberg.spark.SparkCatalog
spark.sql.catalog.iceberg.type rest
spark.sql.catalog.iceberg.uri http://rest:8181
spark.sql.catalog.iceberg.io-impl org.apache.iceberg.aws.s3.S3FileIO
spark.sql.catalog.iceberg.s3.endpoint http://minio:9000
spark.sql.catalog.iceberg.warehouse s3://warehouse/

# Default catalog
spark.sql.defaultCatalog iceberg

# Thrift server binding (for remote connections)
spark.sql.hive.thriftServer.singleSession false

# Spark Connect (for remote PySpark)
spark.connect.grpc.binding.address 0.0.0.0
spark.connect.grpc.binding.port 15002